<app-navbar [list]="'pilots'"></app-navbar>
<div *ngIf="pilots; else elseBlock">
  <h3 class="p-3 text-center mb-0">Pilots List</h3>
  <p class="pt-0 text-center">Click on Pilot Name for details</p>
  <div class="container">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Pilot</th>
          <th>Related Starships</th>
          <th>Films where Pilot Appears</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let pilot of pilots">
          <td>
            <a class="link" (click)="openModal(getPilotNumber(pilot.url))"
              >{{ pilot.name }}
            </a>
          </td>
          <td [innerHTML]="getRelatedStarshipsNames(pilot.starships)"></td>
          <td [innerHTML]="getRelatedFilmsNames(pilot.films)"></td>
        </tr>
      </tbody>
    </table>
    <app-paginator
      [qtyPages]="qtyPagesPilots"
      [list]="'pilots/'"
      [currentPage]="numPage"
    ></app-paginator>
  </div>
</div>
<ng-template #elseBlock
  ><div class="text-center mt-5">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>
